<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>READ ALL USERS</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="/stylesheets/style.css">
</head>
<body>
    <main class="min-h-screen w-full bg-zinc-900 text-white p-10">
        <a class="text-blue-500 font-light tracking-tight mb-10 inline-block hover:text-white" href="/"><< Back to Home-Page</a>
        <h1 class="text-blue-800 text-5xl mb-10">All Users</h1>
        <div class="flex flex-wrap w-full h-inherit gap-3">
        <% if(users.length > 0){ %>
            <% users.forEach(user => { %>
                
                <div class="p-3 bg-zinc-800 w-56 rounded-xl">
                    <div class="w-full h-32 bg-zinc-700 rounded-xl mb-2 overflow-hidden">
                        <img class="w-full h-full object-cover object-center" src=<%= user.dp %> alt="">
                    </div>
                    <h1 class="font-bold text-xl"><%= user.name %></h1>
                    <h1 class="font-thin text-xs text-zinc-400"><%= user.email %></h1>
                    <div class="flex justify-between mt-2">
                        <a href="/edit/<%= user._id %>" class="text-zinc-500">Edit User</a>
                        <a href='/delete/<%= user._id %>' class="text-red-600" onclick="return sure()">Delete User</a>
                    </div>
                </div>

            <% }) %>
        </div>
        <% } else { %>
            <h1>No Users Yet.</h1>
        <% } %>
    </main>

    <script>
        function sure() {
            if (confirm("Are you sure you want to delete this user?")) {
                return true;
            } else {
                return false;
            }
        }
    </script>
</body>
</html>